"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendResarvation=void 0;var _error=_interopRequireDefault(require("../error/error.js")),_resarvationasachema=require("../models/resarvationasachema.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var sendResarvation=function(r,a,t){var s,n,o,u,i,l,c,d;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.body,n=s.firstName,o=s.lastName,u=s.email,i=s.phone,l=s.date,c=s.time,n&&o&&u&&i&&l&&c){e.next=3;break}return e.abrupt("return",t(new _error.default("Please fill out all reservation details",400)));case 3:return e.prev=3,e.next=6,regeneratorRuntime.awrap(_resarvationasachema.Resarvation.create({firstName:n,lastName:o,email:u,phone:i,date:l,time:c}));case 6:a.status(200).json({success:!0,message:"Reservation sent successfully"}),e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(3),"ValidationError"===e.t0.name)return d=Object.values(e.t0.errors).map(function(e){return e.message}),e.abrupt("return",t(new _error.default(d.join(", "),400)));e.next=16;break;case 16:return e.abrupt("return",t(new _error.default(e.t0.message,500)));case 17:case"end":return e.stop()}},null,null,[[3,9]])};exports.sendResarvation=sendResarvation;
//# sourceMappingURL=resarvation-controller.min.js.map
